# Варіант 19: Аптека  
**Опис DFD та IDEF3 діаграм**

---

## Загальні положення

**База даних містить:**
- Дані про аптеку та наявні ліки.
- **Про ліки:** назва, хвороба (один препарат — кілька хвороб), рецепт (так/ні), розфасовка, ціна за упаковку, місце зберігання (шафа + ящик), кількість.
- **Зберігання:** одні й ті самі ліки — в різних ящиках/шафах; в одному ящику — різні ліки.
- **Виготовлювані препарати:** компоненти + кількість на 1 порцію + вартість процесу.

**Запити:**
1. Для готового препарату + кількість → звідки брати (шафи, ящики).
2. Замінники готового препарату (якщо немає).
3. Замінники виготовлюваного (якщо не вистачає компонентів).
4. Найдешевший препарат від хвороби → звідки брати.
5. Скільки порцій виготовлюваного можна зробити з компонентів (якщо готувати лише його).

**Транзакції:**
- Прийняти нові ліки/компоненти.
- Змінити ціни.

---

## Опис діаграм

---

### 1. DFD: Контекстна діаграма (A0) — `Find drug place`

> **Відповідає запиту №1**

**Опис:**
- Зовнішня сутність: `Accountability system`.
- Вхідний потік: `Query to find drug place`.
- Вихідний потік: `Drug location (Cabinets, drawers, quantity)` — місце зберігання: шафи, ящики, кількість.
- Центральний процес: `Find drug place`.

---

### 2. DFD: Транзакція — `Add new drugs/components`

> **Відповідає транзакції "Прийняти нові ліки та компоненти"**

**Опис:**
- Зовнішня сутність: `Admin`.
- Процеси:
  1. `Check whether components or drugs are new` — перевірка типу даних.
  2. `Update accountability system` — оновлення системи.
  3. `Confirm` — підтвердження.
- Потоки: запит → перевірка → оновлення → підтвердження.

---

### 3. Декомпозиція процесів (FEO)

> **Ієрархія процесів системи**

**Опис:**
- Кореневий процес: `Add new components and drugs`.
- Підпроцеси:
  - Додавання нових елементів.
  - Пошук місця зберігання (`Find drug place`).
  - Вибір найдешевшого препарату (`Choose the cheapest drug`).

---

### 4. IDEF3: Деталізація запиту 1 — `Find a drug place`

> **Покроковий процес пошуку місця зберігання**

**Опис:**
- **Кроки (UOW):**
  1. `Find drug quantity by name` — пошук кількості за назвою.
  2. Розгалуження: чи є препарат?
  3. Якщо так → `Find drug location` → `Formulate answer`.
  4. Якщо ні → повідомлення про відсутність.

---

### 5. IDEF3: Деталізація запиту 4 — `Choose the cheapest drug`

> **Вибір найдешевшого препарату + місце**

**Опис:**
- **Кроки (UOW):**
  1. `Possible drugs by disease` — всі препарати від хвороби.
  2. `Choose cheapest drug` — вибір найдешевшого.
  3. Розгалуження: чи можна виготовити в аптеці?
  4. Якщо так → видача.
  5. Якщо ні → пошук замінника.
  6. `Find drug location` — пошук місця.

---

### 6. DFD: Зв’язок між запитами 4 і 1

> **Об’єднання: Найдешевший препарат → Пошук місця**

**Опис:**
- Вихід з процесу вибору найдешевшого препарату є входом у процес пошуку місця.
- Забезпечує послідовність: **спочатку вибір → потім місце**.

---

## Покриття вимог

| Вимога | Реалізована в діаграмі |
|--------|------------------------|
| **Запит 1** | DFD A0 + IDEF3 `Find a drug place` |
| **Запит 2** | Не деталізовано |
| **Запит 3** | Частково (в `Choose the cheapest drug`) |
| **Запит 4** | IDEF3 `Choose the cheapest drug` + зв’язок з `Find a drug place` |
| **Запит 5** | Не відображено |
| **Транзакція: додавання** | DFD `Add new drugs/components` |
| **Транзакція: зміна цін** | Не відображено |

---

## Рекомендації до допрацювання

1. **Додати IDEF3 для запиту 5** — розрахунок кількості порцій з компонентів.
2. **Додати DFD для зміни цін** — процес `Change drug price`.
3. **Додати IDEF3 для запитів 2 і 3** — пошук замінників за діючою речовиною.

---

**Готово до копіювання в Markdown / Google Docs / Notion**  
Чистий текст, без схем, без зображень.




































Запит / ТранзакціяРеалізований у діаграміЗапит 1 (звідки брати препарат)DFD A0 + IDEF3 Find a drug placeЗапит 2 (замінники готового)Не деталізовано (можна додати в IDEF3)Запит 3 (замінники виготовлюваного)Частково в Choose the cheapest drug (якщо не вистачає компонентів)Запит 4 (найдешевший + місце)IDEF3 Choose the cheapest drug + DFD зв’язок з Find a drug placeЗапит 5 (скільки порцій можна зробити)Не відображено (потрібна окрема IDEF3)Транзакція: додавання ліківDFD Add new drugs/componentsТранзакція: зміна цінНе відображено
